<div class="container-fluid px-4">

  <%# Form for new Fixture %>
  <h4>Fixture Details</h4>

  <%= simple_form_for @fixture, url: fixtures_path, :method => :post do |f| %>

  <div class="row">
    <div class="col-md-6">
      <div class="row">
        <div class='col-md-4'>
          <%= f.input :reference_no,
                      input_html: {class: "form-control-sm"},
                      label: "Reference No.",
                      required: true %>
        </div>
      <%# New voyage button %>
        <div class="edit-fixture__button">
          <div class='col-md-4'>
            <%= f.button :button, class: "btn btn-sm btn-primary" do %>
                New Voyage
            <% end %>
          </div>
        </div>
      </div>

      <div class="row">
        <div class='col-md-4'>
          <%= f.input :vessel_name,
                      input_html: {class: "form-control-sm"},
                      label: "Vessel Name",
                      required: true %>
        </div>
        <div class="col-md-4">
          <%= f.input :charterer,
                      input_html: {class: "form-control-sm"},
                      label: "Charterer",
                      required: true %>
        </div>
        <div class="col-md-4">
          <%= f.input :clause_group, as: :fake,
                      input_html: {class: "form-control-sm"},
                      label: "CP Form*",
                      required: true %>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <%= f.input :voyage_number,
                      input_html: {class: "form-control-sm"},
                      label: "Voyage No.",
                      label_html: {class: ""},
                      required: true %>
        </div>
        <div class="col-md-4">
          <%= f.input :blank, as: :fake,
                      input_html: {style: 'visibility: hidden;', class: "form-control-sm"},
                      label: false,
                      label_html: {class: ""},
                      required: true %>
        </div>
        <div class="col-md-4">
          <%= f.input :contract_type, as: :fake,
                      input_html: {class: "form-control-sm"},
                      label: "Contract Type*",
                      label_html: {class: ""},
                      required: true %>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <%= f.input :vessel_dwt, as: :fake,
                      input_html: {class: "form-control-sm"},
                      label: "Vessel DWT*",
                      label_html: {class: ""},
                      required: false %>
        </div>
        <div class="col-md-4">
          <%= f.input :demurrage_rate,
                      input_html: {class: "form-control-sm"},
                      label: "Demurrage Rate",
                      label_html: {class: ""},
                      required: false %>
        </div>
        <div class="col-md-4">
          <%= f.input :contract_terms, as: :fake,
                      input_html: {class: "form-control-sm"},
                      label: "Contract Terms*",
                      label_html: {class: ""},
                      required: false %>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4">
          <%= f.input :total_cargo_qty, as: :fake,
                      input_html: {class: "form-control-sm"},
                      label: "Total Cargo Qty*",
                      required: false %>
        </div>
        <div class="col-md-4">
          <%= f.input :allowed_laytime,
                      input_html: {class: "form-control-sm"},
                      label: "Allowed Laytime",
                      required: false %>
        </div>
        <div class="col-md-4">
          <%= f.input :reversable, as: :fake,
                      input_html: {class: "form-control-sm"},
                      label: "Reversable / Not Reversable*",
                      required: false %>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-12">

    <%# Add cargo button %>
    <div class="new-fixture__add-cargo-button">
        <%= link_to_add_association 'Add Cargo', f, :fixture_cargos, class: "btn btn-sm btn-primary mt-3 mb-3",
        data: {  association_insertion_node: '.new-fixture__add-cargos', association_insertion_method: :append } %>
    </div>

    <%# Loading and Discharge sub-headers  %>
    <div class="fixture-view__loading">   <%# JavaScript uses this class to append new loading entries %>
      <h4 class="mt-3 mb-3">Loading</h4>
    </div>

    <div class="fixture-view__discharge"> <%# JavaScript uses this class to append new discharge entries %>
      <h4 class="mt-3 mb-3">Discharge</h4>
    </div>

    <%# Add additional FixtureCargo fields for user input  %>
    <%# partial _fixture_cargo_fields is appended to       %>
    <%# div.new-fixture__add-cargos and dynamically moved  %>
    <%# to the Loading/Discharge header                    %>
    <div class="new-fixture__add-cargos">
      <%= f.simple_fields_for :fixture_cargos do |builder| %>
        <%= render "fixture_cargo_fields", f: builder %>
      <% end %>
    </div>

      <% end %>
  </div>
</div>
